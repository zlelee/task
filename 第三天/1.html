<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<body>
        <!-- 1.实现组件间数据传递
        搭建一个嵌套组件页面，一共有一个父组件嵌套两个子组件，互相之间通信
        要求 1：搭建一个 vue 页面，结构如下：有一个父组件，显示父亲姓名，老婆姓名输入框，大儿子媳妇姓名；另外有两个子组件，
        第一个子组件显示大儿子姓名，妈妈姓名，老婆姓名输入框，第二个子组件显示二儿子姓名，妈妈姓名，和大嫂姓名。
        要求 2：实现父子间数据传递，在父组件输入框输入老婆姓名，会即时改变两个子组件里面，妈妈姓名的数据；
        在大儿子子组件输入框输入老婆姓名，会在父组件即时改变大儿子媳妇姓名的数据。
        要求 3：使用 import 公共 vue 实例的方式，实现兄弟组件之间的数据传递，在大儿子子组件输入老婆姓名，会即时修改二儿子子组件当中，大嫂名字的数据。
        -->
    <div id="app">
        <input type="text" v-model="motherName">{{bigSonWife}}
        <big-son :mother='motherName' @bigsonwifename-change="handleChange"></big-son>
        <small-son :mother="motherName"></small-son>
    </div>
    <template id="bigSon">
            <div>
               大儿子组件:{{bigSonName}} {{mother}} <input type="text" @input="changeName" v-model="bigSonWife"/>
            </div>
    </template>
    <template id="smallSon">
            <div>
              小儿子组件:  {{mother}}
            </div>
    </template>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-router@3.4.3/dist/vue-router.min.js"></script>
    <script>
        const hub = new Vue()
        const bigSon ={
            props:['mother'],
            template:'#bigSon',
            data(){
                return {
                    bigSonName: '大儿子',
                    bigSonWife:'大儿子媳妇'
                }
            },
            methods: {
                changeName(){
                this.$emit('bigsonwifename-change',this.bigSonWife)
                }
            },
        }
        const smallSon = {
            props:['mother'],
            template:"#smallSon",
            data(){
                return {
                    smallSonName: '小儿子',
                    smallSonWife:'小儿子媳妇'
                }
            },
        }
        const vm = new Vue({
            el: '#app',
            name: 'App',
            data:{
                fatherName:'father',
                motherName:'父亲的老婆',
                bigSonWife:'大儿子媳妇'
            },
            methods: {
                handleChange(newName){
                    this.bigSonWife = newName
                }
            },
            components:{
                "big-son":bigSon,
                "small-son": smallSon
            }
        });
    </script>
</body>

</html>